import{R as Je,e as $e,E as et,d as h,f as A,T as N,Q as je,g as xe,V as f,h as tt,S as ot,F as nt,P as at,W as it,i as st,j as rt,M as ct,a as lt,k as ut,L as dt,B as pt,b as mt}from"./three.module-pkULuz9p.js";const De={type:"change"},ae={type:"start"},Re={type:"end"},Q=new Je,Se=new $e,ht=Math.cos(70*tt.DEG2RAD);class ft extends et{constructor(g,T){super(),this.object=g,this.domElement=T,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new h,this.cursor=new h,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:A.ROTATE,MIDDLE:A.DOLLY,RIGHT:A.PAN},this.touches={ONE:N.ROTATE,TWO:N.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return r.phi},this.getAzimuthalAngle=function(){return r.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",ne),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ne),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(De),e.update(),s=n.NONE},this.update=function(){const t=new h,o=new je().setFromUnitVectors(g.up,new h(0,1,0)),i=o.clone().invert(),c=new h,p=new je,S=new h,b=2*Math.PI;return function(ve=null){const Ae=e.object.position;t.copy(Ae).sub(e.target),t.applyQuaternion(o),r.setFromVector3(t),e.autoRotate&&s===n.NONE&&K(Ie(ve)),e.enableDamping?(r.theta+=m.theta*e.dampingFactor,r.phi+=m.phi*e.dampingFactor):(r.theta+=m.theta,r.phi+=m.phi);let O=e.minAzimuthAngle,L=e.maxAzimuthAngle;isFinite(O)&&isFinite(L)&&(O<-Math.PI?O+=b:O>Math.PI&&(O-=b),L<-Math.PI?L+=b:L>Math.PI&&(L-=b),O<=L?r.theta=Math.max(O,Math.min(L,r.theta)):r.theta=r.theta>(O+L)/2?Math.max(O,r.theta):Math.min(L,r.theta)),r.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,r.phi)),r.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(j,e.dampingFactor):e.target.add(j),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor),e.zoomToCursor&&W||e.object.isOrthographicCamera?r.radius=te(r.radius):r.radius=te(r.radius*u),t.setFromSpherical(r),t.applyQuaternion(i),Ae.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(m.theta*=1-e.dampingFactor,m.phi*=1-e.dampingFactor,j.multiplyScalar(1-e.dampingFactor)):(m.set(0,0,0),j.set(0,0,0));let B=!1;if(e.zoomToCursor&&W){let U=null;if(e.object.isPerspectiveCamera){const X=t.length();U=te(X*u);const q=X-U;e.object.position.addScaledVector(ce,q),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const X=new h(R.x,R.y,0);X.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/u)),e.object.updateProjectionMatrix(),B=!0;const q=new h(R.x,R.y,0);q.unproject(e.object),e.object.position.sub(q).add(X),e.object.updateMatrixWorld(),U=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;U!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(U).add(e.object.position):(Q.origin.copy(e.object.position),Q.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(Q.direction))<ht?g.lookAt(e.target):(Se.setFromNormalAndCoplanarPoint(e.object.up,e.target),Q.intersectPlane(Se,e.target))))}else e.object.isOrthographicCamera&&(B=u!==1,B&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/u)),e.object.updateProjectionMatrix()));return u=1,W=!1,B||c.distanceToSquared(e.object.position)>E||8*(1-p.dot(e.object.quaternion))>E||S.distanceToSquared(e.target)>0?(e.dispatchEvent(De),c.copy(e.object.position),p.copy(e.object.quaternion),S.copy(e.target),!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Oe),e.domElement.removeEventListener("pointerdown",Pe),e.domElement.removeEventListener("pointercancel",F),e.domElement.removeEventListener("wheel",we),e.domElement.removeEventListener("pointermove",oe),e.domElement.removeEventListener("pointerup",F),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",ne),e._domElementKeyEvents=null)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=n.NONE;const E=1e-6,r=new xe,m=new xe;let u=1;const j=new h,M=new f,P=new f,a=new f,l=new f,w=new f,x=new f,D=new f,C=new f,k=new f,ce=new h,R=new f;let W=!1;const d=[],H={};let J=!1;function Ie(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function G(t){const o=Math.abs(t*.01);return Math.pow(.95,e.zoomSpeed*o)}function K(t){m.theta-=t}function V(t){m.phi-=t}const le=function(){const t=new h;return function(i,c){t.setFromMatrixColumn(c,0),t.multiplyScalar(-i),j.add(t)}}(),ue=function(){const t=new h;return function(i,c){e.screenSpacePanning===!0?t.setFromMatrixColumn(c,1):(t.setFromMatrixColumn(c,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(i),j.add(t)}}(),Y=function(){const t=new h;return function(i,c){const p=e.domElement;if(e.object.isPerspectiveCamera){const S=e.object.position;t.copy(S).sub(e.target);let b=t.length();b*=Math.tan(e.object.fov/2*Math.PI/180),le(2*i*b/p.clientHeight,e.object.matrix),ue(2*c*b/p.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(le(i*(e.object.right-e.object.left)/e.object.zoom/p.clientWidth,e.object.matrix),ue(c*(e.object.top-e.object.bottom)/e.object.zoom/p.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function $(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?u/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function de(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?u*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ee(t,o){if(!e.zoomToCursor)return;W=!0;const i=e.domElement.getBoundingClientRect(),c=t-i.left,p=o-i.top,S=i.width,b=i.height;R.x=c/S*2-1,R.y=-(p/b)*2+1,ce.set(R.x,R.y,1).unproject(e.object).sub(e.object.position).normalize()}function te(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function pe(t){M.set(t.clientX,t.clientY)}function ke(t){ee(t.clientX,t.clientX),D.set(t.clientX,t.clientY)}function me(t){l.set(t.clientX,t.clientY)}function Ce(t){P.set(t.clientX,t.clientY),a.subVectors(P,M).multiplyScalar(e.rotateSpeed);const o=e.domElement;K(2*Math.PI*a.x/o.clientHeight),V(2*Math.PI*a.y/o.clientHeight),M.copy(P),e.update()}function Ye(t){C.set(t.clientX,t.clientY),k.subVectors(C,D),k.y>0?$(G(k.y)):k.y<0&&de(G(k.y)),D.copy(C),e.update()}function _e(t){w.set(t.clientX,t.clientY),x.subVectors(w,l).multiplyScalar(e.panSpeed),Y(x.x,x.y),l.copy(w),e.update()}function ze(t){ee(t.clientX,t.clientY),t.deltaY<0?de(G(t.deltaY)):t.deltaY>0&&$(G(t.deltaY)),e.update()}function He(t){let o=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?V(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(0,e.keyPanSpeed),o=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?V(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(0,-e.keyPanSpeed),o=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?K(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(e.keyPanSpeed,0),o=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?K(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(-e.keyPanSpeed,0),o=!0;break}o&&(t.preventDefault(),e.update())}function he(t){if(d.length===1)M.set(t.pageX,t.pageY);else{const o=_(t),i=.5*(t.pageX+o.x),c=.5*(t.pageY+o.y);M.set(i,c)}}function fe(t){if(d.length===1)l.set(t.pageX,t.pageY);else{const o=_(t),i=.5*(t.pageX+o.x),c=.5*(t.pageY+o.y);l.set(i,c)}}function be(t){const o=_(t),i=t.pageX-o.x,c=t.pageY-o.y,p=Math.sqrt(i*i+c*c);D.set(0,p)}function Ke(t){e.enableZoom&&be(t),e.enablePan&&fe(t)}function Fe(t){e.enableZoom&&be(t),e.enableRotate&&he(t)}function ye(t){if(d.length==1)P.set(t.pageX,t.pageY);else{const i=_(t),c=.5*(t.pageX+i.x),p=.5*(t.pageY+i.y);P.set(c,p)}a.subVectors(P,M).multiplyScalar(e.rotateSpeed);const o=e.domElement;K(2*Math.PI*a.x/o.clientHeight),V(2*Math.PI*a.y/o.clientHeight),M.copy(P)}function ge(t){if(d.length===1)w.set(t.pageX,t.pageY);else{const o=_(t),i=.5*(t.pageX+o.x),c=.5*(t.pageY+o.y);w.set(i,c)}x.subVectors(w,l).multiplyScalar(e.panSpeed),Y(x.x,x.y),l.copy(w)}function Ee(t){const o=_(t),i=t.pageX-o.x,c=t.pageY-o.y,p=Math.sqrt(i*i+c*c);C.set(0,p),k.set(0,Math.pow(C.y/D.y,e.zoomSpeed)),$(k.y),D.copy(C);const S=(t.pageX+o.x)*.5,b=(t.pageY+o.y)*.5;ee(S,b)}function Ue(t){e.enableZoom&&Ee(t),e.enablePan&&ge(t)}function Xe(t){e.enableZoom&&Ee(t),e.enableRotate&&ye(t)}function Pe(t){e.enabled!==!1&&(d.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",oe),e.domElement.addEventListener("pointerup",F)),qe(t),t.pointerType==="touch"?Me(t):Ze(t))}function oe(t){e.enabled!==!1&&(t.pointerType==="touch"?Be(t):We(t))}function F(t){switch(Qe(t),d.length){case 0:e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",oe),e.domElement.removeEventListener("pointerup",F),e.dispatchEvent(Re),s=n.NONE;break;case 1:const o=d[0],i=H[o];Me({pointerId:o,pageX:i.x,pageY:i.y});break}}function Ze(t){let o;switch(t.button){case 0:o=e.mouseButtons.LEFT;break;case 1:o=e.mouseButtons.MIDDLE;break;case 2:o=e.mouseButtons.RIGHT;break;default:o=-1}switch(o){case A.DOLLY:if(e.enableZoom===!1)return;ke(t),s=n.DOLLY;break;case A.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;me(t),s=n.PAN}else{if(e.enableRotate===!1)return;pe(t),s=n.ROTATE}break;case A.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;pe(t),s=n.ROTATE}else{if(e.enablePan===!1)return;me(t),s=n.PAN}break;default:s=n.NONE}s!==n.NONE&&e.dispatchEvent(ae)}function We(t){switch(s){case n.ROTATE:if(e.enableRotate===!1)return;Ce(t);break;case n.DOLLY:if(e.enableZoom===!1)return;Ye(t);break;case n.PAN:if(e.enablePan===!1)return;_e(t);break}}function we(t){e.enabled===!1||e.enableZoom===!1||s!==n.NONE||(t.preventDefault(),e.dispatchEvent(ae),ze(Ge(t)),e.dispatchEvent(Re))}function Ge(t){const o=t.deltaMode,i={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(o){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return t.ctrlKey&&!J&&(i.deltaY*=10),i}function Ve(t){t.key==="Control"&&(J=!0,e.domElement.getRootNode().addEventListener("keyup",Te,{passive:!0,capture:!0}))}function Te(t){t.key==="Control"&&(J=!1,e.domElement.getRootNode().removeEventListener("keyup",Te,{passive:!0,capture:!0}))}function ne(t){e.enabled===!1||e.enablePan===!1||He(t)}function Me(t){switch(Le(t),d.length){case 1:switch(e.touches.ONE){case N.ROTATE:if(e.enableRotate===!1)return;he(t),s=n.TOUCH_ROTATE;break;case N.PAN:if(e.enablePan===!1)return;fe(t),s=n.TOUCH_PAN;break;default:s=n.NONE}break;case 2:switch(e.touches.TWO){case N.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ke(t),s=n.TOUCH_DOLLY_PAN;break;case N.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Fe(t),s=n.TOUCH_DOLLY_ROTATE;break;default:s=n.NONE}break;default:s=n.NONE}s!==n.NONE&&e.dispatchEvent(ae)}function Be(t){switch(Le(t),s){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;ye(t),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;ge(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ue(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Xe(t),e.update();break;default:s=n.NONE}}function Oe(t){e.enabled!==!1&&t.preventDefault()}function qe(t){d.push(t.pointerId)}function Qe(t){delete H[t.pointerId];for(let o=0;o<d.length;o++)if(d[o]==t.pointerId){d.splice(o,1);return}}function Le(t){let o=H[t.pointerId];o===void 0&&(o=new f,H[t.pointerId]=o),o.set(t.pageX,t.pageY)}function _(t){const o=t.pointerId===d[0]?d[1]:d[0];return H[o]}e.domElement.addEventListener("contextmenu",Oe),e.domElement.addEventListener("pointerdown",Pe),e.domElement.addEventListener("pointercancel",F),e.domElement.addEventListener("wheel",we,{passive:!1}),e.domElement.getRootNode().addEventListener("keydown",Ve,{passive:!0,capture:!0}),this.update()}}class bt extends ft{constructor(g,T){super(g,T),this.screenSpacePanning=!1,this.mouseButtons={LEFT:A.PAN,MIDDLE:A.DOLLY,RIGHT:A.ROTATE},this.touches={ONE:N.PAN,TWO:N.DOLLY_ROTATE}}}const se=new ot;se.fog=new nt(0,1,250);const re=new at(75,window.innerWidth/window.innerHeight,.1,1e3);re.position.x=25;const v=new it;v.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(v.domElement);const yt=new bt(re,v.domElement);yt.enableDamping=!0;const y=16,ie=32,gt=32,z=(I,g)=>{const T=new rt(I,I,ie,ie),e=new ct({color:g,transparent:!0,opacity:0}),n=new lt(T,e),s=new ut(n.geometry),E=n.geometry.getAttribute("position").array,r=s.getAttribute("position").array,m=[];for(let a=0;a<E.length;a+=3)for(let l=0;l<r.length;l+=3)E[a]===r[l]&&E[a+1]===r[l+1]&&E[a+2]===r[l+2]&&m.push(E[a],E[a+1],E[a+2]);const u=[];for(let a=0;a<m.length;a+=3)u.push([m[a],m[a+1]]);u.sort((a,l)=>Math.atan2(a[1],a[0])-Math.atan2(l[1],l[0])),u.reverse();const j=u.reduce((a,l)=>a[1]>l[1]||a[1]===l[1]&&a[0]<l[0]?a:l);for(;u[0]!==j;)u.push(u.shift());const M=new dt({color:g}),P=[];for(let a=0;a<u.length;a++){const l=u[a],w=u[(a+ie+gt)%u.length],x=[new f(l[0],l[1]),new f(w[0],w[1])],D=new pt().setFromPoints(x);P[a]=new mt(D,M)}return P.forEach(a=>{n.add(a)}),n},Et=()=>{let I=z(y,"green");I.position.z=-y/2;let g=z(y,"red");g.position.z=y/2;let T=z(y,"white");T.position.x=y/2,T.rotation.y=Math.PI/2;let e=z(y,"yellow");e.position.x=-y/2,e.rotation.y=Math.PI/2;let n=z(y,1530367);n.position.y=y/2,n.rotation.x=Math.PI/2;let s=z(y,"orange");return s.position.y=-y/2,s.rotation.x=Math.PI/2,[I,g,T,e,n,s]};let Pt=Et(),Z=new st;Z.add(...Pt);Z.rotateY(45);Z.rotateX(45);se.add(Z);const Ne=function(){requestAnimationFrame(Ne),Z.rotateZ(.001),v.render(se,re)};Ne();
